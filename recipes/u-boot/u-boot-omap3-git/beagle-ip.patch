--- git/lib_arm/board.c-orig	2009-12-23 12:31:53.000000000 -0800
+++ git/lib_arm/board.c	2009-12-28 15:54:53.000000000 -0800
@@ -356,8 +356,10 @@ void start_armboot (void)
 	serial_initialize();
 #endif
 
+#ifdef CONFIG_CMD_NET
 	/* IP Address */
 	gd->bd->bi_ip_addr = getenv_IPaddr ("ipaddr");
+#endif
 
 	stdio_init ();	/* get the devices list going. */
 
